---
title: ä¸€äº›å‘½ä»¤è¡Œæ•ˆç‡å·¥å…·
date: 2015-08-13 20:08
categories: [æŠ€æœ¯]
tags: [zsh, oh-my-zsh, autojump, proxychains, ag, htop, ccat]
---

## Zsh

Zsh ä¹Ÿè®¸æ˜¯ç›®å‰æœ€å¥½ç”¨çš„ shellï¼Œæ˜¯ bash æ›¿ä»£å“ä¸­è¾ƒä¸ºä¼˜ç§€çš„ä¸€ä¸ªã€‚è¿™é‡Œåˆ—ä¸¾äº† zsh çš„ä¸€äº›ä¼˜ç‚¹ï¼š[ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ zsh](https://www-s.acm.illinois.edu/workshops/zsh/why.html)ã€‚

Mac è‡ªå¸¦ zshï¼Œä¸è¿‡æˆ‘ä»¬å½“ç„¶è¦ç”¨æœ€æ–°ç‰ˆå•¦ï¼Œå…¶ä»–å‘è¡Œç‰ˆè¯·å‚ç…§å„è‡ªçš„è½¯ä»¶å®‰è£…æ–¹æ³•ã€‚å®‰è£…å®Œæ¯•åï¼Œé‡æ–°æ‰“å¼€ iTerm2ã€‚

``` bash
brew install zsh
chsh -s `which zsh`
```

### è¡¥å…¨

zsh çš„å‘½ä»¤è¡¥å…¨åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œå¯ä»¥è¡¥é½è·¯å¾„ï¼Œè¡¥é½å‘½ä»¤ï¼Œè¡¥é½å‚æ•°ç­‰ã€‚ï¼ˆè¯·é—®ä½ è®°ä½ tar çš„æ‰€æœ‰å‚æ•°äº†å—ğŸ˜ƒï¼Œåªè¦ `tar -`åŠ  tab é”®ï¼Œå†ä¹Ÿä¸ç”¨ [rtfm](https://zh.wikipedia.org/zh/RTFM) äº†ğŸ˜‚ï¼‰

![zsh auto complete](http://wulfric.qiniudn.com/R-zsh-autocomplete.png "zsh auto complete")

æŒ‰ä¸‹ tab é”®æ˜¾ç¤ºå‡ºæ‰€æœ‰å¾…é€‰é¡¹åï¼Œå†æŒ‰ä¸€æ¬¡ tab é”®ï¼Œå³è¿›å…¥é€‰æ‹©æ¨¡å¼ï¼Œè¿›å…¥é€‰æ‹©æ¨¡å¼åï¼ŒæŒ‰ tab åˆ‡å‘ä¸‹ä¸€ä¸ªé€‰é¡¹ï¼ŒæŒ‰ shift+tab é”®åˆ‡å‘ä¸Šä¸€ä¸ªé€‰é¡¹ï¼Œctrl+f/b/n/p å¯ä»¥å‘å‰åå·¦å³åˆ‡æ¢ã€‚

![zsh tab åˆ‡æ¢](http://wulfric.qiniudn.com/R-zsh-tab-tab.png "zsh tab åˆ‡æ¢")

ä»¥å‰æ€è¿›ç¨‹æ˜¯`ps aux | grep xxx`æŸ¥è¿›ç¨‹çš„ PIDï¼Œç„¶å`kill PID`ã€‚æœ‰äº† zshï¼Œç›´æ¥`kill xxx`ç„¶åæŒ‰ä¸‹ tab é”®å³å¯ï½

``` bash
kill emacs
# æŒ‰ä¸‹ tabï¼Œå˜æˆï¼š
kill 59683
```

### åˆ«å

zsh ä¸ä»…æ”¯æŒæ™®é€š aliasï¼Œè¿˜æ”¯æŒé’ˆå¯¹æ–‡ä»¶ç±»å‹çš„ aliasã€‚æˆ‘é…ç½®çš„æ–‡ä»¶ç±»å‹ alias å¦‚ä¸‹ï¼š

``` bash
alias -s gz='tar -xzvf'
alias -s tgz='tar -xzvf'
alias -s zip='unzip'
alias -s bz2='tar -xjvf'
alias -s php=vi
alias -s py=vi
alias -s rb=vi
alias -s html=vi
alias gcid="git log | head -1 | awk '{print substr(\$2,1,7)}' | pbcopy"
```

é…ç½®å®Œæ¯•ä¹‹åï¼Œåœ¨ zsh ä¸‹ç›´æ¥è¾“å…¥`xxx.rb`ï¼Œå°†è‡ªåŠ¨ç”¨ vi æ‰“å¼€ï¼Œç›´æ¥è¾“å…¥`xxx.tgz`ï¼Œå°†ç›´æ¥æŒ‰ç…§`tar -xzvf`è§£å‹ã€‚æœ€åä¸€ä¸ª`gcid`å°†å½“å‰ git é¡¹ç›®çš„ç¬¬ä¸€ä¸ª commit çš„ id å¤åˆ¶åˆ°ç³»ç»Ÿå‰ªåˆ‡æ¿ï¼ˆ`pbcopy`æ˜¯ Mac ä¸‹çš„å¤åˆ¶åˆ°ç³»ç»Ÿå‰ªåˆ‡æ¿å‘½ä»¤ï¼Œlinux è¯·å‚è€ƒç›¸åº”çš„å‘è¡Œç‰ˆæ›´æ”¹ï¼‰ï¼Œåœ¨æ‰§è¡Œ rebase çš„æ—¶å€™ç‰¹åˆ«æ–¹ä¾¿ã€‚

### è·³è½¬

zsh çš„ç›®å½•è·³è½¬æ›´ä¸ºæ™ºèƒ½ï¼Œä½ æ— éœ€è¾“å…¥`cd`ï¼Œç›´æ¥è¾“å…¥è·¯å¾„å³å¯ã€‚`..`è¡¨ç¤ºåé€€ä¸€çº§ç›®å½•ï¼Œ`../../`è¡¨ç¤ºåé€€ä¸¤çº§ï¼Œä¾æ¬¡ç±»æ¨ã€‚ï¼ˆ`...`çš„ä½œç”¨å’Œ`../../`ç›¸åŒï¼‰ 

è¾“å…¥`d`ï¼Œå°†åˆ—å‡ºå½“å‰ session è®¿é—®è¿‡çš„æ‰€æœ‰ç›®å½•ï¼Œå†æŒ‰æç¤ºçš„æ•°å­—å³å¯è¿›å…¥ç›¸åº”ç›®å½•ã€‚

``` bash
~
> d
0	~
1	~/Applications
2	~/.proxychains
3	/opt/homebrew-cask/Caskroom

~
> 1
~/Applications
```

### å†å²è®°å½•

zsh çš„å†å²è®°å½•è·¨ sessionï¼Œå¯ä»¥å…±äº«ã€‚å†å²è®°å½•æ”¯æŒå—é™æŸ¥æ‰¾ã€‚æ¯”å¦‚ï¼Œè¾“å…¥`git`ï¼Œå†æŒ‰å‘ä¸Šç®­å¤´ï¼Œä¼šæœç´¢ç”¨è¿‡çš„æ‰€æœ‰ git å‘½ä»¤ã€‚

### é€šé…ç¬¦æœç´¢

`ls *.png`æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹æ‰€æœ‰ png æ–‡ä»¶ï¼Œ`ls **/*.png`é€’å½’æŸ¥æ‰¾ã€‚

## oh-my-zsh

[oh-my-zsh](https://github.com/robbyrussell/oh-my-zsh) æ˜¯æœ€ä¸ºæµè¡Œçš„ zsh é…ç½®æ–‡ä»¶ï¼Œæä¾›äº†å¤§é‡çš„ä¸»é¢˜å’Œæ’ä»¶ï¼Œæå¤§çš„æ‹“å±•äº† zsh çš„åŠŸèƒ½ï¼Œæ¨åŠ¨äº† zsh çš„æµè¡Œï¼Œæœ‰ç‚¹ç±»ä¼¼äº rails ä¹‹äº rubyã€‚

``` bash
# install
# via curl
sh -c "$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"
# via wget 
sh -c "$(wget https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh -O -)"
```

å®‰è£…è¿‡åï¼Œ`source ~/.zshrc`ä½¿ä¹‹ç”Ÿæ•ˆã€‚

### ä¸»é¢˜

oh-my-zsh å†…ç½®äº†å¤§é‡ä¸»é¢˜ï¼Œå¯åœ¨`~/.oh-my-zsh/themes`ä¸­æŸ¥çœ‹å…·ä½“çš„é…ç½®ã€‚å®˜ç½‘æä¾›äº†ä¸€äº›ä¸»é¢˜çš„[æˆªå›¾](https://github.com/robbyrussell/oh-my-zsh/wiki/themes)ã€‚ä¹Ÿå¯å‚è§æˆ‘çš„[çŸ¥ä¹å›ç­”](http://www.zhihu.com/question/33277508/answer/58979821)ã€‚

``` bash
# æˆ‘ç”¨çš„ä¸»é¢˜æ˜¯ avitï¼Œå¯ä»¥å¾ˆå¥½çš„æ˜¾ç¤º git ä¿¡æ¯
/Volumes/Disk Image/cloudoffice  master âœ”                                     37m
> é¼ æ ‡åœ¨æ–°ä¸€è¡Œ
```

### æ’ä»¶

oh-my-zsh æä¾›æä¸ºä¸°å¯Œçš„æ’ä»¶ï¼Œåœ¨`~/.oh-my-zsh/plugins`ç›®å½•ä¸‹æŸ¥çœ‹å…·ä½“çš„é…ç½®ã€‚åœ¨`.zshrc`ä¸­å†™å…¥`plugin(git autojump osx)`å³å¯ä½¿ç”¨æ’ä»¶ï¼Œä¸‹é¢ä»‹ç»å‡ ä¸ªç‰¹åˆ«ä¼˜ç§€çš„æ’ä»¶ã€‚

#### git

ç²¾ç®€ git å‘½ä»¤ï¼Œå‡å°‘è¾“å…¥å­—ç¬¦æ•°ã€‚å‚è§ [Plugin:git](https://github.com/robbyrussell/oh-my-zsh/wiki/Plugin:git)ã€‚è¯¥æ’ä»¶æä¾›çš„å¿«æ·å‘½ä»¤æ¯”è¾ƒå¤šï¼ŒæŒ‘å‡ ä¸ªå¸¸ç”¨å’Œå¥½è®°çš„è®°å¿†å³å¯ï¼Œä¸å¿…å…¨è®°ã€‚æˆ‘å¸¸ç”¨çš„æœ‰`gst`, `ggp`, `gco`, `gcm`, `gcp` ç­‰ã€‚

#### autojump

[autojump](https://github.com/wting/autojump) æŒ‰ç…§ä½ çš„ä½¿ç”¨é¢‘ç‡è®°å½•è·¯å¾„ï¼Œä½¿å¾—ç›®å½•çš„è·³è½¬æ›´ä¸ºæ–¹ä¾¿ã€‚å®‰è£…`brew install autojump`ã€‚å¦‚éœ€è·³è½¬åˆ°åŒ…å« 'foo' çš„ç›®å½•ï¼Œæ‰§è¡Œ`j foo`ï¼Œè¿™æ˜¯æœ€åŸºç¡€ï¼Œä¹Ÿæ˜¯æœ€å¸¸ç”¨çš„å‘½ä»¤ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰`jc`, `jo`, `jco`å‘½ä»¤ï¼ŒæŸ¥çœ‹å®˜ç½‘æ–‡æ¡£è·å–æ›´å¤šçš„ä½¿ç”¨æ–¹æ³•ã€‚

#### osx

è¯¥æ’ä»¶å¢å¼º Mac ä¸‹çš„ä½¿ç”¨ä½“éªŒï¼Œæä¾›äº†å¦‚ä¸‹å‘½ä»¤ï¼š

- `cdf`: åœ¨ Finder ä¸­æ‰“å¼€è¦ cd çš„ç›®å½•ï¼›
- `quick-look`: å¿«é€Ÿé¢„è§ˆè¯¥æ–‡ä»¶ï¼Œç±»ä¼¼äºåœ¨ Finder ä¸­æŒ‰ä¸‹ç©ºæ ¼é”®ï¼›
- `man preview`: åœ¨ preview ä¸­æ‰“å¼€ man pageï¼› 
- `itunes`: å‘½ä»¤è¡Œæ“ä½œ iTunesã€‚

``` bash
> itunes
itunes:shift:2: shift count must be <= $#
Usage: itunes <option>
option:
	launch|play|pause|stop|rewind|resume|quit
	mute|unmute	control volume set
	next|previous	play next or previous track
	shuf|shuffle [on|off|toggle]	Set shuffled playback. Default: toggle. Note: toggle doesn't support the MiniPlayer.
	vol	Set the volume, takes an argument from 0 to 100
	help	show this message and exit
```

å…¶ä»–å‘½ä»¤å¯æŸ¥çœ‹[æ’ä»¶](https://github.com/robbyrussell/oh-my-zsh/blob/master/plugins/osx/osx.plugin.zsh)ã€‚

## proxychains

proxychains æ˜¯å‘½ä»¤è¡Œçš„ç§‘å­¦ä¸Šç½‘å·¥å…·ã€‚å®‰è£…`brew install proxychains-ng`ã€‚å¦‚å›¾æ‰€ç¤ºï¼Œäºšé©¬é€Š S3 å­˜å‚¨æœåŠ¡å’Œ github å¹¶ä¸ç¨³å®šï¼Œæœ‰æ—¶å€™éœ€è¦ç§‘å­¦ä¸Šç½‘æ‰èƒ½è®¿é—®ã€‚

``` bash
# åŸå‘½ä»¤
brew cask install xxx
# ä½¿ç”¨ proxychains
proxychains4 brew cask install xxx
```

![proxychains](http://wulfric.qiniudn.com/proxychain.png "proxychains")

ä½¿ç”¨ proxychains éœ€è¦æœ¬åœ°å…ˆå¼€å¯ç§‘å­¦ä¸Šç½‘çš„å·¥å…·ï¼Œæ¯”å¦‚ VPN/shadowsocksï¼Œç„¶ååœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ç›¸åº”çš„é…ç½®ï¼Œå…¶é…ç½®æ–¹æ³•å’Œ chrome ä¸‹çš„ç§‘å­¦ä¸Šç½‘æ’ä»¶å¾ˆç›¸ä¼¼ï¼Œå¯ä»¥å‚è€ƒç›¸å…³æ–‡æ¡£ã€‚

``` bash
# åœ¨æ–‡ä»¶ ~/.proxychains/proxychains.conf çš„æœ«å°¾ ProxyList éƒ¨åˆ†ï¼Œå‚ç…§ ProxyList format Examples æ·»åŠ ï¼Œæ¯”å¦‚æˆ‘ç”¨çš„æ˜¯ shadowsocksï¼Œåˆ™é…ç½®æ˜¯ï¼š
socks5 	127.0.0.1 1080
```

## å…¶ä»–

### ag

[ag](https://github.com/ggreer/the_silver_searcher) æ˜¯ä¸€ä¸ªæ–°çš„æœç´¢å·¥å…·ï¼š

- ä¸`ack`ç›¸æ¯”ï¼Œé€Ÿåº¦æœ‰äº†å·¨å¤§çš„æå‡ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ª[å¯¹æ¯”](http://dongweiming.github.io/blog/archives/ack/)ï¼›
- æœç´¢ä¼šå¿½ç•¥`.gitignore`å’Œ`.hgignore`ä¸­çš„ patternï¼›
- ä¸æƒ³æœç´¢çš„æ–‡ä»¶å¯ä»¥æŠŠå¯¹åº”çš„ pattern å†™åˆ°`.agignore`ä¸­ï¼›
- å‘½ä»¤æ¯”`ack`çŸ­ 33%ï¼Œä¸”ä¸€åªæ‰‹å¯ä»¥æŒ‰å…¨ã€‚

æœ€åä¸€æ¡è™½ç„¶çœ‹ä¼¼æˆè°‘ï¼Œå´é“å‡ºäº†å·¥å…·çš„æœ¬è´¨ï¼šå“ªæ€•æ˜¯èƒ½å‡å°‘è¾“å…¥ä¸€ä¸ªå­—ç¬¦ï¼Œä¹Ÿæ˜¯å¿…è¦çš„è¿›æ­¥ã€‚

### htop

[htop](http://hisham.hm/htop/) æ˜¯ä¸€æ¬¾è¿è¡Œäº Linux ç³»ç»Ÿç›‘æ§ä¸è¿›ç¨‹ç®¡ç†è½¯ä»¶ï¼Œç”¨äºå–ä»£ Unix ä¸‹ä¼ ç»Ÿçš„ topã€‚ä¸ top åªæä¾›æœ€æ¶ˆè€—èµ„æºçš„è¿›ç¨‹åˆ—è¡¨ä¸åŒï¼Œhtop æä¾›æ‰€æœ‰è¿›ç¨‹çš„åˆ—è¡¨ï¼Œå¹¶ä¸”ä½¿ç”¨å½©è‰²æ ‡è¯†å‡ºå¤„ç†å™¨ã€swap å’Œå†…å­˜çŠ¶æ€ã€‚[^htop-wiki]

![htop](http://wulfric.qiniudn.com/htop.png "htop")

htop å‘½ä»¤ä¼˜ç‚¹[^htop-lizhenghn]:

- å¿«é€ŸæŸ¥çœ‹å…³é”®æ€§èƒ½ç»Ÿè®¡æ•°æ®ï¼Œå¦‚ CPUï¼ˆå¤šæ ¸å¸ƒå±€ï¼‰ã€å†…å­˜/äº¤æ¢ä½¿ç”¨ï¼›
- å¯ä»¥æ¨ªå‘æˆ–çºµå‘æ»šåŠ¨æµè§ˆè¿›ç¨‹åˆ—è¡¨ï¼Œä»¥æŸ¥çœ‹æ‰€æœ‰çš„è¿›ç¨‹å’Œå®Œæ•´çš„å‘½ä»¤è¡Œï¼›
- æ€æ‰è¿›ç¨‹æ—¶å¯ä»¥ç›´æ¥é€‰æ‹©è€Œä¸éœ€è¦è¾“å…¥è¿›ç¨‹å·ï¼›
- é€šè¿‡é¼ æ ‡æ“ä½œæ¡ç›®ï¼›
- æ¯” top å¯åŠ¨å¾—æ›´å¿«ã€‚

### ccat

[ccat](https://github.com/jingweno/ccat) æ˜¯ä¸Šè‰²çš„`cat`ï¼Œåœ¨ cat çš„åŸºç¡€ä¸Šæä¾›äº†è¯­æ³•é«˜äº®ã€‚å¯é€šè¿‡`brew install ccat`å®‰è£…ã€‚ç›®å‰å·²æ”¯æŒ`ruby`, `python`, `javascript`, `java`, `c`, `go`ã€‚

![ccat](http://wulfric.qiniudn.com/R-ccat.png "ccat")



[^htop-wiki]: [Htop - ç»´åŸºç™¾ç§‘ï¼Œè‡ªç”±çš„ç™¾ç§‘å…¨ä¹¦](https://zh.wikipedia.org/wiki/Htop)
[^htop-lizhenghn]: [Linuxä¸‹è¶…çº§å‘½ä»¤htopçš„å­¦ä¹ ä½¿ç”¨ - lizhenghn - åšå®¢å›­](http://www.cnblogs.com/lizhenghn/p/3728610.html)


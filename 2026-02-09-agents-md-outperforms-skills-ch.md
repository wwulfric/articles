---
title: AGENTS.md 在我们的 Agent 评估中优于 Skills
date: 2026-02-09 06:43
categories: [技术]
tags: [ai, agent]
---

翻译自 Vercel 博客文章：[AGENTS.md outperforms skills in our agent evals](https://vercel.com/blog/agents-md-outperforms-skills-in-our-agent-evals)

## 摘要

Vercel 团队进行了一项实验，评估了向编码 Agent 提供框架特定知识的两种方法——特别是针对使用 Next.js 16 API 的任务。实验结果表明，通过在项目根目录的 `AGENTS.md` 文件中嵌入压缩的 8KB 文档索引的方法，在 Next.js 16 API 评估中达到了 **100% 的通过率**。相比之下，使用 Skills（技能）方法即使在有明确指令的情况下，最高也只能达到 **79% 的通过率**。

## 核心发现

### AGENTS.md 方法的表现

通过在项目根目录的 `AGENTS.md` 文件中直接嵌入一个压缩的 8KB 文档索引，Agent 可以持续访问最新的框架文档。这种方法在 Next.js 16 API 评估中实现了：

- **100% 的通过率**
- Agent 在每次交互时都能获得文档上下文
- 无需 Agent "决定"何时加载文档

### Skills 方法的局限性

Skills 是打包的领域知识（包括提示词、工具和文档），Agent 可以按需调用。然而，这种方法存在明显的局限性：

- 即使有明确的使用指令，最高只能达到 **79% 的通过率**
- 在没有明确指令的情况下，性能大幅下降
- 在 **56% 的情况下**，Agent 完全没有调用 Skill
- 当 Agent 未调用 Skill 时，其表现与完全没有文档时一样差

## AGENTS.md 为什么表现更好？

### 1. 持久的上下文

AGENTS.md 在每次交互时都为 Agent 提供上下文，这意味着 Agent 始终可以访问文档，无需"决定"是否加载它。文档内容始终存在于 Agent 的工作上下文中。

### 2. 无决策点

与 Skills 不同，Agent 必须识别需求并触发 Skill，而 AGENTS.md 的内容始终存在，因此 Agent 不会忽略文档。这消除了一个关键的失败点——Agent 可能无法意识到需要查阅文档。

### 3. 减少噪音

如果 Skills 没有被可靠触发，或者集成不当，它们可能会给 Agent 的环境引入噪音或干扰。相比之下，AGENTS.md 中的信息总是以一致的方式呈现。

### 4. 版本匹配

通过在 AGENTS.md 中更新文档，团队可以轻松确保 Agent 获得与当前版本匹配的建议和上下文。这对于快速迭代的框架（如 Next.js）尤其重要。

## 实践建议

### 对于 Agent 开发者

1. **优先使用 AGENTS.md**：将框架文档的简洁、压缩的索引或摘要直接嵌入到 `AGENTS.md` 中，目前比依赖 Skills 的可靠调用更有效。

2. **保持文档精简**：8KB 的压缩文档索引已经足够有效。关键是提供最相关的信息，而不是完整的文档。

3. **随项目更新文档**：将 AGENTS.md 视为项目的一部分，随着框架版本的更新而更新它。

4. **适用于其他工具**：这个经验教训可能适用于类似的 Agent 或 LLM 设置，例如 Claude 使用的 `CLAUDE.md` 等。

### Skills 的适用场景

虽然 AGENTS.md 在提供持久上下文方面表现更好，但 Skills 仍然有其价值：

- **复杂的多步骤流程**：对于需要一系列协调操作的任务
- **模块化和重用**：当相同的能力需要在多个项目中使用时
- **未来的潜力**：Skills 是一个有吸引力的抽象概念，用于模块化和重用，但当前一代的 Agent 往往无法识别何时使用它们

## 当前 Skills 的局限性

当前一代的 Skills 存在以下问题：

1. **识别问题**：Agent 经常无法识别何时应该使用 Skill
2. **调用失败**：即使明确指示，Agent 有时也会忽略 Skills
3. **需要改进**：Skills 需要进一步的用户体验或 Agent 改进，才能在实际的 AI Agent 工作流中发挥其潜力

## 社区反响

多个社区和技术讨论证实了这些结果，指出 AGENTS.md 的可靠性，并表示 Skills 在达到其在实际工作流中的潜力之前需要进一步改进。

## 结论

对于需要框架特定知识的 AI 编码 Agent，**在项目根目录中使用 AGENTS.md 文件提供持久上下文**是目前最有效的方法。这种方法：

- 确保 Agent 始终可以访问相关文档
- 消除了 Agent 可能忽略文档的决策点
- 在实际评估中表现出明显优越的性能（100% vs 79%）
- 易于维护和更新

虽然 Skills 作为一个抽象概念很有吸引力，但目前的实现还不够可靠。随着 Agent 技术的发展，Skills 可能会变得更加实用，但就目前而言，AGENTS.md 方法提供了更可靠的解决方案。

## 延伸思考

这项研究给我们的启示不仅限于 AGENTS.md vs Skills 的对比，更深层次的思考包括：

1. **上下文的重要性**：对于 AI Agent 来说，"始终可见"的上下文比"按需调用"的工具更可靠
2. **减少决策负担**：减少 Agent 需要做出的决策数量，可以提高整体可靠性
3. **简单即美**：8KB 的压缩文档索引证明，精心策划的少量信息比大量可选资源更有价值
4. **Agent 能力的局限**：当前的 AI Agent 在"元认知"方面仍有不足——它们不总是知道自己需要什么信息

---

**原文链接**：https://vercel.com/blog/agents-md-outperforms-skills-in-our-agent-evals
